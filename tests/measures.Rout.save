
R version 2.7.0 (2008-04-22)
Copyright (C) 2008 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library("arules")
Loading required package: Matrix
Loading required package: lattice

Attaching package: 'Matrix'


	The following object(s) are masked from package:stats :

	 xtabs 


Attaching package: 'arules'


	The following object(s) are masked from package:base :

	 %in% 

> 
> 
> data <- list(
+     c("A", "B"),
+     c("A", "B", "C", "G"),
+     c("C", "D"),
+     c("C", "D"),
+     c("E", "F")
+     )
> 
> trans <- as(data, "transactions")
> 
> 
> ##################################################################
> # Test the original example from
> # Edward R. Omiecinski. Alternative interest measures for mining 
> # associations in databases. IEEE Transactions on Knowledge and 
> # Data Engineering, 15(1):57-69, Jan/Feb 2003.
> 
> fsets <- eclat(trans, parameter = list(supp = 0), control=list(verb=FALSE))
> 
> quality(fsets) <- cbind(quality(fsets), 
+   allConfidence = interestMeasure(fsets, method = "allConfidence", trans))
> 
> inspect(fsets[order(size(fsets))])
   items support allConfidence
1  {C}       0.6     1.0000000
2  {B}       0.4     1.0000000
3  {A}       0.4     1.0000000
4  {G}       0.2     1.0000000
5  {D}       0.4     1.0000000
6  {E}       0.2     1.0000000
7  {F}       0.2     1.0000000
8  {E,                        
    F}       0.2     1.0000000
9  {C,                        
    D}       0.4     0.6666667
10 {C,                        
    G}       0.2     0.3333333
11 {B,                        
    G}       0.2     0.5000000
12 {A,                        
    G}       0.2     0.5000000
13 {A,                        
    C}       0.2     0.3333333
14 {A,                        
    B}       0.4     1.0000000
15 {B,                        
    C}       0.2     0.3333333
16 {A,                        
    C,                        
    G}       0.2     0.3333333
17 {A,                        
    B,                        
    G}       0.2     0.5000000
18 {B,                        
    C,                        
    G}       0.2     0.3333333
19 {A,                        
    B,                        
    C}       0.2     0.3333333
20 {A,                        
    B,                        
    C,                        
    G}       0.2     0.3333333
> 
> ###################################################################
> ## test all measures for itemsets
> 
> measures <- c("support", "allConfidence", "crossSupportRatio")
> 
> m1 <- interestMeasure(fsets, measures, trans)
> m1
   support allConfidence crossSupportRatio
1      0.2     1.0000000         1.0000000
2      0.4     0.6666667         0.6666667
3      0.2     0.3333333         0.3333333
4      0.2     0.3333333         0.3333333
5      0.2     0.5000000         0.5000000
6      0.2     0.3333333         0.3333333
7      0.2     0.3333333         0.3333333
8      0.2     0.5000000         0.5000000
9      0.2     0.5000000         0.5000000
10     0.2     0.3333333         0.6666667
11     0.2     0.3333333         0.6666667
12     0.4     1.0000000         1.0000000
13     0.2     0.3333333         0.6666667
14     0.6     1.0000000         1.0000000
15     0.4     1.0000000         1.0000000
16     0.4     1.0000000         1.0000000
17     0.2     1.0000000         1.0000000
18     0.4     1.0000000         1.0000000
19     0.2     1.0000000         1.0000000
20     0.2     1.0000000         1.0000000
> 
> ## now dont reuse any quality data
> m2 <- interestMeasure(fsets, measures, trans, reuse = FALSE)
> m2
   support allConfidence crossSupportRatio
1      0.2     1.0000000         1.0000000
2      0.4     0.6666667         0.6666667
3      0.2     0.3333333         0.3333333
4      0.2     0.3333333         0.3333333
5      0.2     0.5000000         0.5000000
6      0.2     0.3333333         0.3333333
7      0.2     0.3333333         0.3333333
8      0.2     0.5000000         0.5000000
9      0.2     0.5000000         0.5000000
10     0.2     0.3333333         0.6666667
11     0.2     0.3333333         0.6666667
12     0.4     1.0000000         1.0000000
13     0.2     0.3333333         0.6666667
14     0.6     1.0000000         1.0000000
15     0.4     1.0000000         1.0000000
16     0.4     1.0000000         1.0000000
17     0.2     1.0000000         1.0000000
18     0.4     1.0000000         1.0000000
19     0.2     1.0000000         1.0000000
20     0.2     1.0000000         1.0000000
> 
> ## compare results
> all.equal(m1, m2)
[1] TRUE
> 
> 
> ###################################################################
> # test all measures for rules
> 
> rules <- apriori(trans, parameter=list(supp=0.01, conf = 0.5), 
+         control=list(verb=FALSE))
>  
> ## calculate all measures
> measures <-  c("support", "coverage", "confidence", "lift",
+     "leverage", "hyperLift", "hyperConfidence", "improvement",
+     "chiSquare", "cosine", "conviction", "gini", "oddsRatio", "phi", "doc")
> 
> m1 <- interestMeasure(rules, measures, trans)
> m1
   support coverage confidence      lift leverage hyperLift hyperConfidence
1      0.6      1.0  0.6000000 1.0000000     0.00       1.0             0.0
2      0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
3      0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
4      0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
5      0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
6      0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
7      0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
8      0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
9      0.4      0.4  1.0000000 1.6666667     0.16       1.0             0.7
10     0.4      0.6  0.6666667 1.6666667     0.16       1.0             0.7
11     0.4      0.4  1.0000000 2.5000000     0.24       1.0             0.9
12     0.4      0.4  1.0000000 2.5000000     0.24       1.0             0.9
13     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
14     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
15     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
16     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
17     0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
18     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
19     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
20     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
21     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
22     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
23     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
24     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
25     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
26     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
27     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
28     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
29     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
30     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
   improvement chiSquare    cosine conviction       gini    oddsRatio
1          Inf       NaN 0.7745967        1.0        NaN          NaN
2          Inf 5.0000000 1.0000000        Inf 0.32000000          Inf
3          Inf 5.0000000 1.0000000        Inf 0.32000000          Inf
4          Inf 1.8750000 0.7071068        Inf 0.18000000          Inf
5          Inf 1.8750000 0.7071068        1.6 0.12000000          Inf
6          Inf 1.8750000 0.7071068        Inf 0.18000000          Inf
7          Inf 1.8750000 0.7071068        1.6 0.12000000          Inf
8          0.4 0.8333333 0.5773503        Inf 0.08000000          Inf
9          0.4 2.2222222 0.8164966        Inf 0.21333333          Inf
10         Inf 2.2222222 0.8164966        1.8 0.21333333 -1.80144e+16
11         Inf 5.0000000 1.0000000        Inf 0.48000000          Inf
12         Inf 5.0000000 1.0000000        Inf 0.48000000          Inf
13        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
14        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
15         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
16         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
17         0.0 1.8750000 0.7071068        1.6 0.12000000          Inf
18         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
19         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
20         0.5 5.0000000 1.0000000        Inf 0.32000000          Inf
21         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
22         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
23         0.5 5.0000000 1.0000000        Inf 0.32000000          Inf
24        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
25         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
26         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
27         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
28         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
29         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
30         0.0 5.0000000 1.0000000        Inf 0.32000000          Inf
          phi        doc
1         NaN        NaN
2   1.0000000  1.0000000
3   1.0000000  1.0000000
4   0.6123724  0.7500000
5   0.6123724  0.5000000
6   0.6123724  0.7500000
7   0.6123724  0.5000000
8   0.4082483  0.5000000
9   0.6666667  0.6666667
10  0.6666667  0.6666667
11  1.0000000  1.0000000
12  1.0000000  1.0000000
13 -0.1666667 -0.1666667
14 -0.1666667 -0.1666667
15  0.6123724  0.7500000
16  0.6123724  0.7500000
17  0.6123724  0.5000000
18  0.4082483  0.5000000
19  0.6123724  0.7500000
20  1.0000000  1.0000000
21  0.4082483  0.5000000
22  0.6123724  0.7500000
23  1.0000000  1.0000000
24 -0.1666667 -0.1666667
25  0.6123724  0.7500000
26  0.6123724  0.7500000
27  0.4082483  0.5000000
28  0.6123724  0.7500000
29  0.6123724  0.7500000
30  1.0000000  1.0000000
> 
> ## now dont reuse any quality data
> m2 <- interestMeasure(rules, measures, trans, reuse = FALSE)
> m2
   support coverage confidence      lift leverage hyperLift hyperConfidence
1      0.6      1.0  0.6000000 1.0000000     0.00       1.0             0.0
2      0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
3      0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
4      0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
5      0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
6      0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
7      0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
8      0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
9      0.4      0.4  1.0000000 1.6666667     0.16       1.0             0.7
10     0.4      0.6  0.6666667 1.6666667     0.16       1.0             0.7
11     0.4      0.4  1.0000000 2.5000000     0.24       1.0             0.9
12     0.4      0.4  1.0000000 2.5000000     0.24       1.0             0.9
13     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
14     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
15     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
16     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
17     0.2      0.4  0.5000000 2.5000000     0.12       1.0             0.6
18     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
19     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
20     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
21     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
22     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
23     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
24     0.2      0.4  0.5000000 0.8333333    -0.04       0.5             0.1
25     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
26     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
27     0.2      0.2  1.0000000 1.6666667     0.08       1.0             0.4
28     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
29     0.2      0.2  1.0000000 2.5000000     0.12       1.0             0.6
30     0.2      0.2  1.0000000 5.0000000     0.16       1.0             0.8
   improvement chiSquare    cosine conviction       gini    oddsRatio
1          Inf       NaN 0.7745967        1.0        NaN          NaN
2          Inf 5.0000000 1.0000000        Inf 0.32000000          Inf
3          Inf 5.0000000 1.0000000        Inf 0.32000000          Inf
4          Inf 1.8750000 0.7071068        Inf 0.18000000          Inf
5          Inf 1.8750000 0.7071068        1.6 0.12000000          Inf
6          Inf 1.8750000 0.7071068        Inf 0.18000000          Inf
7          Inf 1.8750000 0.7071068        1.6 0.12000000          Inf
8          0.4 0.8333333 0.5773503        Inf 0.08000000          Inf
9          0.4 2.2222222 0.8164966        Inf 0.21333333          Inf
10         Inf 2.2222222 0.8164966        1.8 0.21333333 -1.80144e+16
11         Inf 5.0000000 1.0000000        Inf 0.48000000          Inf
12         Inf 5.0000000 1.0000000        Inf 0.48000000          Inf
13        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
14        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
15         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
16         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
17         0.0 1.8750000 0.7071068        1.6 0.12000000          Inf
18         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
19         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
20         0.5 5.0000000 1.0000000        Inf 0.32000000          Inf
21         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
22         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
23         0.5 5.0000000 1.0000000        Inf 0.32000000          Inf
24        -0.1 0.1388889 0.4082483        0.8 0.01333333  5.00000e-01
25         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
26         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
27         0.0 0.8333333 0.5773503        Inf 0.08000000          Inf
28         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
29         0.0 1.8750000 0.7071068        Inf 0.18000000          Inf
30         0.0 5.0000000 1.0000000        Inf 0.32000000          Inf
          phi        doc
1         NaN        NaN
2   1.0000000  1.0000000
3   1.0000000  1.0000000
4   0.6123724  0.7500000
5   0.6123724  0.5000000
6   0.6123724  0.7500000
7   0.6123724  0.5000000
8   0.4082483  0.5000000
9   0.6666667  0.6666667
10  0.6666667  0.6666667
11  1.0000000  1.0000000
12  1.0000000  1.0000000
13 -0.1666667 -0.1666667
14 -0.1666667 -0.1666667
15  0.6123724  0.7500000
16  0.6123724  0.7500000
17  0.6123724  0.5000000
18  0.4082483  0.5000000
19  0.6123724  0.7500000
20  1.0000000  1.0000000
21  0.4082483  0.5000000
22  0.6123724  0.7500000
23  1.0000000  1.0000000
24 -0.1666667 -0.1666667
25  0.6123724  0.7500000
26  0.6123724  0.7500000
27  0.4082483  0.5000000
28  0.6123724  0.7500000
29  0.6123724  0.7500000
30  1.0000000  1.0000000
> 
> ## compare results
> all.equal(m1, m2)
[1] TRUE
> 
> 
